<idea-plugin>
    <id>dev.smartenv.smartenv</id>
    <name>SmartEnv</name>
    <version>1.1.4</version>
    <vendor url="https://example.com/smartenv">SmartEnv Team</vendor>
    <description><![CDATA[
        <p>SmartEnv injects profile-driven environment variables right before launching run configurations.</p>
        <ul>
          <li>Compose values from .env, .properties, YAML, JSON (flattened or blob), and plain key=value.</li>
          <li>Profiles per run configuration plus a Quick Settings popup to switch without reopening settings.</li>
          <li>Preview merged values before they are applied.</li>
          <li>Unknown file extensions default to JSON blob mode so content is always injectable.</li>
        </ul>
        <p><b>Quick start</b></p>
        <ol>
          <li>Open <i>Settings | Tools | SmartEnv</i>, enable the plugin, and add a profile.</li>
          <li>Add files with <i>Format = Auto-detect</i>; use JSON blob mode when you want the whole file under one key.</li>
          <li>Assign the profile to a run configuration; run or debug and inspect the preview.</li>
          <li>Use the status bar widget or Quick Settings action to switch profiles on the fly.</li>
        </ol>
        <p>Sample files live in <code>docs/samples/</code> (env, properties, yaml, json, and json-blob examples).</p>
    ]]></description>
    <change-notes>
        <![CDATA[
        <h3>1.1.4 - 253 build compatibility</h3>
        <ul>
          <li>Extend IntelliJ build compatibility through 253.29346.240 to keep SmartEnv aligned with the 2025.3 platform releases.</li>
        </ul>
        <h3>1.1.3 - 253 build compatibility</h3>
        <ul>
          <li>Extend IntelliJ build compatibility through 253.28294.334 to keep SmartEnv aligned with the 2025.2 platform releases.</li>
        </ul>
        <h3>1.1.2 - Preview & diagnostics polish</h3>
        <ul>
          <li>Harden dotenv/properties parsing (export lines, inline comments, quoted values) and surface clearer missing-file diagnostics.</li>
          <li>Add Status feedback inside SmartEnv settings, including missing/failed files and zero-key parses, plus safer folder imports with a 100-file confirmation.</li>
          <li>Emphasize override-heavy keys in the Preview table and add a Quick Settings shortcut that opens the Settings + Preview pane directly.</li>
        </ul>
        <h3>1.1.1 - Compatibility refresh</h3>
        <ul>
          <li>Extend IntelliJ build compatibility through 252.28238.7 while keeping the existing feature set intact.</li>
        </ul>
        ]]>
    </change-notes>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.java</depends>

    <projectService serviceImplementation="dev.smartenv.services.SmartEnvProjectService"/>

    <extensions defaultExtensionNs="com.intellij">
        <notificationGroup id="SmartEnv Notifications" displayType="BALLOON" logByDefault="true"/>
        <runConfigurationExtension implementation="dev.smartenv.execution.SmartEnvRunConfigurationExtension"/>
        <projectConfigurable
                id="dev.smartenv.settings"
                displayName="SmartEnv"
                parentId="tools"
                instance="dev.smartenv.ui.SmartEnvSettingsConfigurable"/>
        <toolWindow id="SmartEnv Logs" factoryClass="dev.smartenv.ui.SmartEnvLogsToolWindowFactory" anchor="bottom" secondary="true" />
    </extensions>

    <actions>
        <action id="SmartEnv.QuickSettings" class="dev.smartenv.ui.SmartEnvQuickSettingsAction" text="SmartEnv Quick Settings" description="Open SmartEnv quick controls">
            <add-to-group group-id="MainToolbarRight" anchor="after" relative-to-action="MoreActionGroup"/>
        </action>
    </actions>
</idea-plugin>
